<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Analyse plausible values in surveys</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for withPV.survey.design {survey}"><tr><td>withPV.survey.design {survey}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Analyse plausible values in surveys
</h2>

<h3>Description</h3>

<p>Repeats an analysis for each of a set of 'plausible values' in a survey data set, returning a list suitable for <code>mitools::MIcombine</code>. The default method works for both standard and replicate-weight designs but not for two-phase designs. 
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'survey.design'
withPV(mapping, data, action, rewrite=TRUE, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>mapping</code></td>
<td>

<p>A formula or list of formulas describing each variable in the analysis that has plausible values. The left-hand side of the formula is the name to use in the analysis; the right-hand side gives the names in the dataset.
</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>

<p>A survey design object, as created by <code>svydesign</code> or <code>svrepdesign</code>
</p>
</td></tr>
<tr valign="top"><td><code>action</code></td>
<td>

<p>With <code>rewrite=TRUE</code>, a function taking a survey design object as
its only argument, or a quoted expression.  With <code>rewrite=TRUE</code>
a function taking a survey design object as its only argument, or a
quoted expression with <code>.DESIGN</code> referring to the survey design object to be used.
</p>
</td></tr>
<tr valign="top"><td><code>rewrite</code></td>
<td>

<p>Rewrite <code>action</code> before evaluating it (versus constructing new data
sets)
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>For methods
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the results returned by each evaluation of <code>action</code>, with the call as an attribute.
</p>


<h3>See Also</h3>

<p><code><a href="with.svyimputationList.html">with.svyimputationList</a></code>
</p>


<h3>Examples</h3>

<pre>
if(require(mitools)){
data(pisamaths, package="mitools")
des&lt;-svydesign(id=~SCHOOLID+STIDSTD, strata=~STRATUM, nest=TRUE,
	weights=~W_FSCHWT+condwt, data=pisamaths)

oo&lt;-options(survey.lonely.psu="remove")

results&lt;-withPV(list(maths~PV1MATH+PV2MATH+PV3MATH+PV4MATH+PV5MATH),
   data=des,
   action=quote(svyglm(maths~ST04Q01*(PCGIRLS+SMRATIO)+MATHEFF+OPENPS, design=des)),
   rewrite=TRUE)

summary(MIcombine(results))
options(oo)
}
</pre>

<hr /><div style="text-align: center;">[Package <em>survey</em> version 4.1-1 <a href="00Index.html">Index</a>]</div>
</body></html>
