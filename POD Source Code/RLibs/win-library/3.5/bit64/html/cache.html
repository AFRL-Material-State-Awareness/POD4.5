<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Atomic Caching</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for cache {bit64}"><tr><td>cache {bit64}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Atomic Caching
</h2>

<h3>Description</h3>

<p>Functions for caching results attached to atomic objects
</p>


<h3>Usage</h3>

<pre>
newcache(x)
jamcache(x)
cache(x)
setcache(x, which, value)
getcache(x, which)
remcache(x)
## S3 method for class 'cache'
print(x, all.names = FALSE, pattern, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>

<p>an integer64 vector (or a cache object in case of <code>print.cache</code>)
</p>
</td></tr>
<tr valign="top"><td><code>which</code></td>
<td>

<p>A character naming the object to be retrieved from the cache or to be stored in the cache
</p>
</td></tr>
<tr valign="top"><td><code>value</code></td>
<td>

<p>An object to be stored in the cache 
</p>
</td></tr>
<tr valign="top"><td><code>all.names</code></td>
<td>

<p>passed to <code><a href="../../base/html/ls.html">ls</a></code> when listing the cache content
</p>
</td></tr>
<tr valign="top"><td><code>pattern</code></td>
<td>

<p>passed to <code><a href="../../base/html/ls.html">ls</a></code> when listing the cache content
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>ignored
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>cache</code> is an <code>link{environment}</code> attached to an atomic object with the <code>link{attrib}</code> name 'cache'. 
It contains at least a reference to the atomic object that carries the cache. 
This is used when accessing the cache to detect whether the object carrying the cache has been modified meanwhile.
Function <code>newcache(x)</code> creates a new cache referencing  <code>x</code> <br />
Function <code>jamcache(x)</code> forces <code>x</code> to have a cache <br />
Function <code>cache(x)</code> returns the cache attached to <code>x</code> if it is not found to be outdated <br />
Function <code>setcache(x, which, value)</code> assigns a value into the cache of <code>x</code> <br />
Function <code>getcache(x, which)</code> gets cache value 'which' from <code>x</code> <br />
Function <code>remcache</code> removes the cache from <code>x</code> <br />
</p>


<h3>Value</h3>

<p>see details
</p>


<h3>Author(s)</h3>

<p>Jens Oehlschl√§gel &lt;Jens.Oehlschlaegel@truecluster.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="../../bit/html/still.identical.html">still.identical</a></code> for testing whether to symbols point to the same RAM. <br />
Functions that get and set small cache-content automatically when a cache is present: <code><a href="../../bit/html/Metadata.html">na.count</a></code>, <code><a href="../../bit/html/Metadata.html">nvalid</a></code>, <code><a href="../../bit/html/Metadata.html">is.sorted</a></code>, <code><a href="../../bit/html/Metadata.html">nunique</a></code> and <code><a href="../../bit/html/Metadata.html">nties</a></code> <br />
Setting big caches with a relevant memory footprint requires a conscious decision of the user: <code><a href="hashcache.html">hashcache</a></code>, <code><a href="hashcache.html">sortcache</a></code>, <code><a href="hashcache.html">ordercache</a></code> and <code><a href="hashcache.html">sortordercache</a></code> <br />
Functions that use big caches: <code><a href="match.integer64.html">match.integer64</a></code>, <code><a href="match.integer64.html">%in%.integer64</a></code>, <code><a href="duplicated.integer64.html">duplicated.integer64</a></code>, <code><a href="unique.integer64.html">unique.integer64</a></code>, <code><a href="unipos.html">unipos</a></code>, <code><a href="table.integer64.html">table.integer64</a></code>, <code><a href="as.character.integer64.html">as.factor.integer64</a></code>, <code><a href="as.character.integer64.html">as.ordered.integer64</a></code>, <code><a href="keypos.html">keypos</a></code>, <code><a href="tiepos.html">tiepos</a></code>, <code><a href="rank.integer64.html">rank.integer64</a></code>, <code><a href="prank.html">prank</a></code>, <code><a href="qtile.html">qtile</a></code>, <code><a href="qtile.html">quantile.integer64</a></code>, <code><a href="qtile.html">median.integer64</a></code> and <code><a href="qtile.html">summary.integer64</a></code> <br />
</p>


<h3>Examples</h3>

<pre>
	x &lt;- as.integer64(sample(c(rep(NA, 9), 1:9), 32, TRUE))
	y &lt;- x
	still.identical(x,y)
	y[1] &lt;- NA
	still.identical(x,y)
	mycache &lt;- newcache(x)
	ls(mycache)
	mycache
	rm(mycache)
	jamcache(x)
	cache(x)
	x[1] &lt;- NA
	cache(x)
	getcache(x, "abc")
	setcache(x, "abc", 1)
	getcache(x, "abc")
	remcache(x)
	cache(x)
</pre>

<hr /><div style="text-align: center;">[Package <em>bit64</em> version 4.0.5 <a href="00Index.html">Index</a>]</div>
</body></html>
