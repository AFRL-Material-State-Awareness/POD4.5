<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a sparse symmetric block diagonal matrix object</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for bdsmatrix {bdsmatrix}"><tr><td>bdsmatrix {bdsmatrix}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Create a sparse symmetric block diagonal matrix object
</h2>

<h3>Description</h3>

<p>Sparse block diagonal matrices are used in the the large parameter matrices
that can arise in random-effects coxph and survReg models.  This routine
creates such a matrix.  Methods for these matrices allow them to be 
manipulated much like an ordinary matrix, but the total memory use can be
much smaller.
</p>


<h3>Usage</h3>

<pre>
bdsmatrix(blocksize, blocks, rmat, dimnames)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>blocksize</code></td>
<td>

<p>vector of sizes for the matrices on the diagonal
</p>
</td></tr>
<tr valign="top"><td><code>blocks</code></td>
<td>

<p>contents of the diagonal blocks, strung out as a vector
</p>
</td></tr>
<tr valign="top"><td><code>rmat</code></td>
<td>

<p>the dense portion of the matrix, forming a right and lower border
</p>
</td></tr>
<tr valign="top"><td><code>dimnames</code></td>
<td>

<p>a list of dimension names for the matrix
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Consider the following matrix, which has been divided into 4 parts.
</p>
<p>1  2  0  0  0 | 4  5
2  1  0  0  0 | 6  7
0  0  3  1  2 | 8  8
0  0  1  4  3 | 1  1
0  0  2  3  5 | 2  2
&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&ndash;
4  6  8  1  2 | 7  6
5  7  8  1  2 | 6  9
</p>
<p>The upper left is block diagonal, and can be stored in a compressed form
without the zeros.  With a large number of blocks, the zeros can
actually account for over 99% of a matrix; this commonly happens with
the kinship matrix for a large collection of families (one block/family).
The arguments to this routine would be block sizes of 2 and 3, along with
a 2 by 7 &quot;right hand&quot; matrix.  Since the matrix is symmetrical, the bottom
slice is not needed.
</p>


<h3>Value</h3>

<p>an object of type bdsmatrix
</p>


<h3>Examples</h3>

<pre>
# The matrix shown above is created by
tmat &lt;- bdsmatrix(c(2,3), c(1,2,1, 3,1,2, 4,3, 5),
                  rmat=matrix(c(4,6,8,1,2,7,6, 5,7,8,1,2,6,9), ncol=2))

# Note that only the lower part of the blocks is needed, however, the
#  entire block set is also allowed, i.e., c(1,2,2,1, 3,1,2,1,4,3,2,3,5)
</pre>

<hr /><div style="text-align: center;">[Package <em>bdsmatrix</em> version 1.3-6 <a href="00Index.html">Index</a>]</div>
</body></html>
