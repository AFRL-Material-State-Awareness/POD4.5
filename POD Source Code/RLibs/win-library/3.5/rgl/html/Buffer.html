<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: R6 Class for binary buffers in glTF files.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for Buffer {rgl}"><tr><td>Buffer {rgl}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>R6 Class for binary buffers in glTF files.</h2>

<h3>Description</h3>

<p>These files typically have one buffer holding all the
binary data for a scene.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>Buffer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-load"><code>Buffer$load()</code></a>
</p>
</li>
<li> <p><a href="#method-saveOpenBuffer"><code>Buffer$saveOpenBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-getBuffer"><code>Buffer$getBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-setBuffer"><code>Buffer$setBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-openBuffer"><code>Buffer$openBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-writeBuffer"><code>Buffer$writeBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-closeBuffer"><code>Buffer$closeBuffer()</code></a>
</p>
</li>
<li> <p><a href="#method-closeBuffers"><code>Buffer$closeBuffers()</code></a>
</p>
</li>
<li> <p><a href="#method-getBufferview"><code>Buffer$getBufferview()</code></a>
</p>
</li>
<li> <p><a href="#method-addBufferView"><code>Buffer$addBufferView()</code></a>
</p>
</li>
<li> <p><a href="#method-openBufferview"><code>Buffer$openBufferview()</code></a>
</p>
</li>
<li> <p><a href="#method-setBufferview"><code>Buffer$setBufferview()</code></a>
</p>
</li>
<li> <p><a href="#method-getAccessor"><code>Buffer$getAccessor()</code></a>
</p>
</li>
<li> <p><a href="#method-setAccessor"><code>Buffer$setAccessor()</code></a>
</p>
</li>
<li> <p><a href="#method-readAccessor"><code>Buffer$readAccessor()</code></a>
</p>
</li>
<li> <p><a href="#method-addAccessor"><code>Buffer$addAccessor()</code></a>
</p>
</li>
<li> <p><a href="#method-dataURI"><code>Buffer$dataURI()</code></a>
</p>
</li>
<li> <p><a href="#method-as.list"><code>Buffer$as.list()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>Buffer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>Buffer$new(json = NULL, binfile = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>json</code></dt><dd><p>list read from glTF file.</p>
</dd>
<dt><code>binfile</code></dt><dd><p>optional External binary filename, or raw vector</p>
</dd>
</dl>

</div>


<hr>
<a id="method-load"></a>



<h4>Method <code>load()</code></h4>

<p>Load from file.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$load(uri, buf = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>uri</code></dt><dd><p>Which file to load.</p>
</dd>
<dt><code>buf</code></dt><dd><p>Which buffer number to load.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-saveOpenBuffer"></a>



<h4>Method <code>saveOpenBuffer()</code></h4>

<p>Write open buffer to connection.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$saveOpenBuffer(con, buf = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>con</code></dt><dd><p>Output connection.</p>
</dd>
<dt><code>buf</code></dt><dd><p>Buffer number.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-getBuffer"></a>



<h4>Method <code>getBuffer()</code></h4>

<p>Get buffer object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$getBuffer(buf, default = list(byteLength = 0))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>buf</code></dt><dd><p>Buffer number.</p>
</dd>
<dt><code>default</code></dt><dd><p>Default buffer object if 'buf' not found.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A list containing components described here:
<a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-buffer">https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-buffer</a>.
</p>


<hr>
<a id="method-setBuffer"></a>



<h4>Method <code>setBuffer()</code></h4>

<p>Set buffer object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$setBuffer(buf, buffer)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>buf</code></dt><dd><p>Buffer number.</p>
</dd>
<dt><code>buffer</code></dt><dd><p>New value to insert.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-openBuffer"></a>



<h4>Method <code>openBuffer()</code></h4>

<p>Open a connection for the data in a buffer.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$openBuffer(buf)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>buf</code></dt><dd><p>Buffer number.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>An open binary connection.
</p>


<hr>
<a id="method-writeBuffer"></a>



<h4>Method <code>writeBuffer()</code></h4>

<p>Write data to buffer.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$writeBuffer(values, type, size, buf = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values</code></dt><dd><p>Values to write.</p>
</dd>
<dt><code>type</code></dt><dd><p>Type to write.</p>
</dd>
<dt><code>size</code></dt><dd><p>Byte size of each value.</p>
</dd>
<dt><code>buf</code></dt><dd><p>Which buffer to write to.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Byte offset of start of bytes written.
</p>


<hr>
<a id="method-closeBuffer"></a>



<h4>Method <code>closeBuffer()</code></h4>

<p>Close the connection in a buffer.
</p>
<p>If there was a connection open, this will save the
contents in the raw vector 'bytes' within the buffer object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$closeBuffer(buf)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>buf</code></dt><dd><p>The buffer number.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-closeBuffers"></a>



<h4>Method <code>closeBuffers()</code></h4>

<p>Close any open buffers.
</p>
<p>Call this after working with a GLTF file to avoid warnings
from R about closing unused connections.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$closeBuffers()</pre></div>


<hr>
<a id="method-getBufferview"></a>



<h4>Method <code>getBufferview()</code></h4>

<p>Get bufferView object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$getBufferview(bufv)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>bufv</code></dt><dd><p>bufferView number.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A list containing components described here:
<a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-bufferview">https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-bufferview</a>.
</p>


<hr>
<a id="method-addBufferView"></a>



<h4>Method <code>addBufferView()</code></h4>

<p>Add a new buffer view.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$addBufferView(values, type, size, target = NULL, buf = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values</code></dt><dd><p>Values to put in the view.</p>
</dd>
<dt><code>type</code></dt><dd><p>Type of values.</p>
</dd>
<dt><code>size</code></dt><dd><p>Size of values in bytes.</p>
</dd>
<dt><code>target</code></dt><dd><p>Optional target use for values.</p>
</dd>
<dt><code>buf</code></dt><dd><p>Which buffer to write to.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>New bufferView number.
</p>


<hr>
<a id="method-openBufferview"></a>



<h4>Method <code>openBufferview()</code></h4>

<p>Open a connection to a buffer view.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$openBufferview(bufv)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>bufv</code></dt><dd><p>Which bufferView.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A connection.
</p>


<hr>
<a id="method-setBufferview"></a>



<h4>Method <code>setBufferview()</code></h4>

<p>Set bufferView object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$setBufferview(bufv, bufferView)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>bufv</code></dt><dd><p>bufferView number.</p>
</dd>
<dt><code>bufferView</code></dt><dd><p>New value to insert.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-getAccessor"></a>



<h4>Method <code>getAccessor()</code></h4>

<p>Get accessor object
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$getAccessor(acc)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>acc</code></dt><dd><p>Accessor number</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A list containing components described here:
<a href="https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-accessor">https://www.khronos.org/registry/glTF/specs/2.0/glTF-2.0.html#reference-accessor</a>
</p>


<hr>
<a id="method-setAccessor"></a>



<h4>Method <code>setAccessor()</code></h4>

<p>Set accessor object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$setAccessor(acc, accessor)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>acc</code></dt><dd><p>Accessor number.</p>
</dd>
<dt><code>accessor</code></dt><dd><p>New value to insert.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-readAccessor"></a>



<h4>Method <code>readAccessor()</code></h4>

<p>Read data given by accessor object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$readAccessor(acc)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>acc</code></dt><dd><p>Accessor number.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A vector or array as specified in the accessor.  For the 'MATn' types, the 3rd index
indexes the element.
</p>


<hr>
<a id="method-addAccessor"></a>



<h4>Method <code>addAccessor()</code></h4>

<p>Write values to accessor, not including 'min' and 'max'.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$addAccessor(
  values,
  target = NULL,
  types = "anyGLTF",
  normalized = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values</code></dt><dd><p>Values to write.</p>
</dd>
<dt><code>target</code></dt><dd><p>Optional target use for values.</p>
</dd>
<dt><code>types</code></dt><dd><p>Which types can be used?</p>
</dd>
<dt><code>normalized</code></dt><dd><p>Are normalized integers allowed?</p>
</dd>
<dt><code>useDouble</code></dt><dd><p>Whether to write doubles or singles.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>New accessor number
</p>


<hr>
<a id="method-dataURI"></a>



<h4>Method <code>dataURI()</code></h4>

<p>Convert buffer to data URI.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$dataURI(buf = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>buf</code></dt><dd><p>Buffer to convert.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>String containing data URI.
</p>


<hr>
<a id="method-as.list"></a>



<h4>Method <code>as.list()</code></h4>

<p>Convert to list.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$as.list()</pre></div>



<h5>Returns</h5>

<p>List suitable for writing using JSON.
</p>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Buffer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr /><div style="text-align: center;">[Package <em>rgl</em> version 0.109.6 <a href="00Index.html">Index</a>]</div>
</body></html>
