<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Imputation of most likely value within the class</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for mice.impute.2lonly.mean {mice}"><tr><td>mice.impute.2lonly.mean {mice}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Imputation of most likely value within the class</h2>

<h3>Description</h3>

<p>Method <code>2lonly.mean</code> replicates the most likely value within
a class of a second-level variable. It works for numeric and
factor data. The function is primarily useful as a quick fixup for
data in which the second-level variable is inconsistent.
</p>


<h3>Usage</h3>

<pre>
mice.impute.2lonly.mean(y, ry, x, type, wy = NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>y</code></td>
<td>
<p>Vector to be imputed</p>
</td></tr>
<tr valign="top"><td><code>ry</code></td>
<td>
<p>Logical vector of length <code>length(y)</code> indicating the
the subset <code>y[ry]</code> of elements in <code>y</code> to which the imputation
model is fitted. The <code>ry</code> generally distinguishes the observed
(<code>TRUE</code>) and missing values (<code>FALSE</code>) in <code>y</code>.</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
<p>Numeric design matrix with <code>length(y)</code> rows with predictors for
<code>y</code>. Matrix <code>x</code> may have no missing values.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>Vector of length <code>ncol(x)</code> identifying random and class
variables.  The class variable (only one is allowed) is coded as <code>-2</code>.</p>
</td></tr>
<tr valign="top"><td><code>wy</code></td>
<td>
<p>Logical vector of length <code>length(y)</code>. A <code>TRUE</code> value
indicates locations in <code>y</code> for which imputations are created.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Other named arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Observed values in <code>y</code> are averaged within the class, and
replicated to the missing <code>y</code> within that class.
This function is primarily useful for repairing incomplete data
that are constant within the class, but vary over classes.
</p>
<p>For numeric variables, <code>mice.impute.2lonly.mean()</code> imputes the
class mean of <code>y</code>. If <code>y</code> is a second-level variable, then
conventionally all observed <code>y</code> will be identical within the
class, and the function just provides a quick fix for any
missing <code>y</code> by filling in the class mean.
</p>
<p>For factor variables, <code>mice.impute.2lonly.mean()</code> imputes the
most frequently occuring category within the class.
</p>
<p>If there are no observed <code>y</code> in the class, all entries of the
class are set to <code>NA</code>. Note that this may produce problems
later on in <code>mice</code> if imputation routines are called that
expects predictor data to be complete. Methods designed for
imputing this type of second-level variables include
<code><a href="../../mice/help/mice.impute.2lonly.norm.html">mice.impute.2lonly.norm</a></code> and
<code><a href="../../mice/help/mice.impute.2lonly.pmm.html">mice.impute.2lonly.pmm</a></code>.
</p>


<h3>Value</h3>

<p>Vector with imputed data, same type as <code>y</code>, and of length
<code>sum(wy)</code>
</p>


<h3>Author(s)</h3>

<p>Gerko Vink, Stef van Buuren, 2019
</p>


<h3>References</h3>

<p>Van Buuren, S. (2018).
<a href="https://stefvanbuuren.name/fimd/sec-level2pred.html"><em>Flexible Imputation of Missing Data. Second Edition.</em></a>
Boca Raton, FL.: Chapman &amp; Hall/CRC Press.
</p>


<h3>See Also</h3>

<p>Other univariate-2lonly: 
<code><a href="../../mice/help/mice.impute.2lonly.norm.html">mice.impute.2lonly.norm</a>()</code>,
<code><a href="../../mice/help/mice.impute.2lonly.pmm.html">mice.impute.2lonly.pmm</a>()</code>
</p>

<hr /><div style="text-align: center;">[Package <em>mice</em> version 3.14.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
