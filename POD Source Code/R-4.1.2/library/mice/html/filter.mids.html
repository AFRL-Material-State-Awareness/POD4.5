<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Subset rows of a 'mids' object</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for filter.mids {mice}"><tr><td>filter.mids {mice}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Subset rows of a <code>mids</code> object</h2>

<h3>Description</h3>

<p>This function takes a <code>mids</code> object and returns a new
<code>mids</code> object that pertains to the subset of the data
identified by the expression in .... The expression may use
column values from the incomplete data in <code>.data$data</code>.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'mids'
filter(.data, ..., .preserve = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>.data</code></td>
<td>
<p>A <code>mids</code> object.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Expressions that return a
logical value, and are defined in terms of the variables in <code>.data$data</code>.
If multiple expressions are specified, they are combined with the <code>&amp;</code> operator.
Only rows for which all conditions evaluate to <code>TRUE</code> are kept.</p>
</td></tr>
<tr valign="top"><td><code>.preserve</code></td>
<td>
<p>Relevant when the <code>.data</code> input is grouped.
If <code>.preserve = FALSE</code> (the default), the grouping structure
is recalculated based on the resulting data, otherwise the grouping is kept as is.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of class <code>mids</code>
</p>


<h3>Note</h3>

<p>The function calculates a logical vector <code>include</code> of length <code>nrow(.data$data)</code>.
The function constructs the elements of the filtered <code>mids</code> object as follows:
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
<code>data</code>     </td><td style="text-align: left;"> Select rows in <code>.data$data</code> for which <code>include == TRUE</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>imp</code>      </td><td style="text-align: left;"> Select rows each imputation <code>data.frame</code> in <code>.data$imp</code> for which <code>include == TRUE</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>m</code>        </td><td style="text-align: left;"> Equals <code>.data$m</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>where</code>    </td><td style="text-align: left;"> Select rows in <code>.data$where</code> for which <code>include == TRUE</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>blocks</code>   </td><td style="text-align: left;"> Equals <code>.data$blocks</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>call</code>     </td><td style="text-align: left;"> Equals <code>.data$call</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nmis</code>     </td><td style="text-align: left;"> Recalculate <code>nmis</code> based on the selected <code>data</code> rows</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>method</code>   </td><td style="text-align: left;"> Equals <code>.data$method</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>predictorMatrix</code> </td><td style="text-align: left;"> Equals <code>.data$predictorMatrix</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>visitSequence</code>   </td><td style="text-align: left;"> Equals <code>.data$visitSequence</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>formulas</code>  </td><td style="text-align: left;"> Equals <code>.data$formulas</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>post</code>      </td><td style="text-align: left;"> Equals <code>.data$post</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>blots</code>     </td><td style="text-align: left;"> Equals <code>.data$blots</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>ignore</code>    </td><td style="text-align: left;"> Select positions in <code>.data$ignore</code> for which <code>include == TRUE</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>seed</code>            </td><td style="text-align: left;"> Equals <code>.data$seed</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>iteration</code>       </td><td style="text-align: left;"> Equals <code>.data$iteration</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>lastSeedValue</code>   </td><td style="text-align: left;"> Equals <code>.data$lastSeedValue</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>chainMean</code>       </td><td style="text-align: left;"> Set to <code>NULL</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>chainVar</code>        </td><td style="text-align: left;"> Set to <code>NULL</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>loggedEvents</code>    </td><td style="text-align: left;"> Equals <code>.data$loggedEvents</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>version</code>    </td><td style="text-align: left;"> Replaced with current version</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>date</code>       </td><td style="text-align: left;"> Replaced with current date
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Patrick Rockenschaub
</p>


<h3>See Also</h3>

<p><code><a href="../../dplyr/help/filter.html">filter</a></code>
</p>


<h3>Examples</h3>

<pre>
imp &lt;- mice(nhanes, m = 2, maxit = 1, print = FALSE)

# example with external logical vector
imp_f &lt;- filter(imp, c(rep(TRUE, 13), rep(FALSE, 12)))

nrow(complete(imp))
nrow(complete(imp_f))

# example with calculated include vector
imp_f2 &lt;- filter(imp, age &gt;= 2 &amp; hyp == 1)
nrow(complete(imp_f2)) # should be 5
</pre>

<hr /><div style="text-align: center;">[Package <em>mice</em> version 3.14.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
